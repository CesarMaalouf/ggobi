\documentclass[11pt]{article}
\usepackage{fullpage}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% If it turns out that I can use pdflatex, I can use jpeg graphics
% files and go straight to pdf.

\newif\ifpdf
\ifx\pdfoutput\undefined
  \pdffalse
\else
  \pdftrue
\fi
  
\ifpdf
  \pdfoutput=1
  \usepackage[pdftex]{graphicx}  % uncomment if using graphicx
  %  \usepackage[pdftex]{hyperref}  % uncomment if using hyperref
\else
  \usepackage{graphicx}  % uncomment if using graphicx
  %  \usepackage{hyperref}  % uncomment if using hyperref
\fi
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\hyphenation{XGobi}
\hyphenation{ggobi}
\hyphenation{di-men-sion-al two--di-men-sion-al}
\input epsf
\def\Rcirc{\mbox{\small{\ooalign{\hfil\raise.07ex\hbox{\tiny R}\hfil\crcr\mathhexbox20D}}}}

\parindent 0in
\parskip 6pt

% I'm taking text from the 1997 xgobi paper wherever possible.
% (On fry, that's in /usr/dfs/papers/xgobi.1997/paper.tex)
%
%  slbl stands for 'section label'

\begin {document}

\title {GGobi manual}
\author{
Deborah F. Swayne, AT\&T Labs -- Research \\
Dianne Cook, Iowa State University \\
Duncan Temple Lang, Lucent Bell Labs \\
Andreas Buja, AT\&T Labs -- Research
}
\date{January 2001}

\maketitle


\begin{abstract}

GGobi is a data visualization system with state-of-the-art
interactive and dynamic methods for the manipulation of views of
data.  It represents a big step in the evolution of XGobi, with
multiple plotting windows, more flexible color management, XML file
handling, and better portability to Windows.

The biggest evolutionary step is that GGobi can be embedded in other
software and controlled using an API (application programming
interface).  This design has been developed and tested in partnership
with R.  When GGobi is used with R, the result is a full marriage
between GGobi's direct manipulation graphical environment and R's
familiar extensible environment for statistical data analysis.

It has the same graphical functionality whether it is running
standalone or embedded in other software.  That functionality
includes 2-D displays of projections of points and lines in
high-dimensional spaces, as well as scatterplot matrices, parallel
coordinate and time series plots.  Projection tools include average
shifted histograms of single variables, plots of pairs of variables,
and grand tours of multiple variables.  Views of the data can be
reshaped.  Points can be labeled and brushed with glyphs and colors.
Several displays can be open simultaneously and linked for labeling
and brushing.  Missing data are accommodated and their patterns can
be examined.
\end{abstract}

\section{Introduction}

This paper gives an overview of the layout and functionality of ggobi,
which is a major step in the evolution of XGobi.  Those of you who are
quite familiar with XGobi might want to skip to section
\ref{slbl:xgobi}.

GGobi can be used for simple tasks with virtually no instruction.  All
that a user needs is some cursory knowledge of the developments in
interactive statistical graphics of the last 15 years, as well as a
willingness to experiment using the sample data provided and the
tooltips.

Still, it may be more efficient to acquire up front a basic understanding of
the overall layout and functionality of the system.  The greatest
success is obtained by users who have gained experience with the
system and combine it with creativity and data analytic sophistication.

We first describe the specifics of GGobi's layout and functionalities.
Figure~1 shows a GGobi window, made using a version that was
available in early 2001.

\vbox{
\vspace{.4in}
%\epsfxsize 6in \centerline{\epsfbox{figures/manual1.ps}}
\centerline{[Figure 1 here]}

\vspace{.15in} \centerline{ \parbox{6in}
{Figure~1: Layout of a GGobi session.  The display window contains a
simple scatterplot.  Brushing has been used, and three different
symbols are in use.
}}
\vspace{.4in}
}

\section{Layout and functionality}

\subsection{The major functions}

Across the top of the control panel in Figure 1 stretch a row of buttons for
selecting major GGobi functions from pull-down menus.  Buttons
such as ``File'', ``Display,'' ``ViewMode'', ``Tools'', ``Options'' and
``DisplayTree'' organize functions in menus.  

As expected, the ``File'' button opens a menu for selecting
input/output functions as well as exiting.

The ``Display'' button opens a manu for opening a new plotting
window.  The display types are
\begin{itemize}
\itemsep 0em
\item Scatterplot,
\item Scatterplot matrix, 
\item Parallel coordinates plot,
\item Time series plots.
\end{itemize}

If the data has missing values, a scatterplot or scatterplot matrix
of the ``missingness'' information can be opened.

The ``ViewMode'' button opens a menu for selecting from GGobi's
inventory of interactive graphics operations: 
\begin{itemize}
\itemsep 0em
\item 1-D dotplots and average shifted histograms,
\item 2-D XY-plots, 
\item 1-D grand tours,
\item 2-D grand tours,
\item axis scaling, 
\item brushing, 
\item identification, 
\item point motion.  
\end{itemize}

The unifying feature of these operations is that they take over the
display area and dictate the mouse operations for directly
manipulating the view.  Examples are mouse sweeps to control 3-D
rotations, or moves of the brush when brushing.  These operations
also determine the content of the control panel on the left of the
window (see below).  Exactly one mode is selected at all times.
``ViewModes'' will be discussed in greater detail in
section~\ref{slbl:ViewModes}.

The ``Tools'' button gives access to 
\begin{itemize}
\itemsep 0em
\item a table of variable statistics with variable selection functionality,
\item a variable transformation pipeline,
\item an variable sphering panel,
\item jittering controls,
\item a panel for hiding groups of cases,
\item subsetting functions for systematic and random subsampling, 
\item assignment of a value to missings.

\end{itemize}
The division between ``ViewMode'' functions and ``Tools'' is somewhat
arbitrary.  The ``ViewMode'' functions determine the mouse
interactions in the display windows, while none of the ``Tools''
does.  Furthermore, ``ViewMode'' functions populate the left hand
control panel in the main GGobi window, while ``Tools'' create their
own permanent control panels or views of the data in separate
windows, as shown in figure~2.  For example, the variable selection
and statistics ``Tool'' opens a table of data each variable, and the
transformation ``Tool'' generates a transformation control window.

The ``Options'' button allows users to set some options for the
main control window:  whether tooltips are displayed, for instance,
and whether the control panel is shown.

The ``DisplayTree'' menu allows users to open a tree listing
all the currently open display windows, each of which may contain
several plots.

In some ViewModes, an ``I/O'' menu appears, with options for
reading and writing data pertaining to that mode.

\subsection{Graphical displays}
\label{slbl:GraphicalDisplays}

As mentioned earlier, the main display types are
\begin{itemize}
\itemsep 0em
\item scatterplot,
\item scatterplot matrix,
\item parallel coordinates plot, and
\item time series plots.
\end{itemize}

\subsubsection{Current display, current plot}

Since there are multiple displays, some of which contain
multiple plots, the question arises:  Which plot in which
display window corresponds to the control panel?  If you
select the {\bf Brush} {\bf ViewMode}, how can you tell
which plot is going to respond to brushing?

There is in ggobi a notion of the ``current display'' and
the ``current plot.''

\subsubsection{Missing data displays}



\subsection{Selecting variables for plotting}
\subsection{Control panels}

\section{Data format}
\label{slbl:DataFormat}
\subsection {XML}
\label{slbl:XML}
\subsection {Database access}
\label{slbl:MySQL}

\section{Integration of ggobi with other software systems}
\label{slbl:Integration}

\section{View modes}
\label{slbl:ViewModes}

\subsection{1D plots}
\subsection{XY plots}
\subsection{Tours}
\label{slbl:1DTour}
\subsection{Scaling of axes}
\label{slbl:Scaling}
\subsection{Linked brushing of points and lines}
\label{slbl:Color}
\subsection{Linked identification of points with labels}
\subsection{Line editing}

\section {Display types}
\subsection{Scatterplot}
\subsection{Scatterplot matrix}
\subsection{Parallel coordinate plot}
\subsection{Time series plots}

\newpage
\section{Tools}
\subsection{Variable selection and statistics table}
\label{slbl:VarStats}
\subsection{Jittering}
\subsection{Imputation controls for missing data}
\subsection{Sphere}
\label{slbl:Sphere}
\subsection{Subsetting}

\section{Implementation}

\section{Differences from xgobi}
\label{slbl:xgobi}

\subsection {Multiple displays}

If you're familiar with xgobi, the first thing you'll notice
when you look at a ggobi display is that the plotting window
has become separated from the control panels.  The main reason
for that change is so that a ggobi process can have multiple
display windows, as discussed in section
\ref{slbl:GraphicalDisplays}.   That design change has had
far-reaching effects.

First, user interactions available for the simple scatterplot display
type can now be made available for each display, as long as their
behavior can be unambiguously defined.  In xgobi, for instance, there
is a parallel coordinates display, but it's not possible to brush
it.

Second, since these multiple displays are linked by default, it's no
longer necessary to link displays from different processes.

One of the most interesting implications of using multiple displays
is that a ggobi process is no longer restricted to a single data
set.  The XML file format makes it easy to specify two or more data
matrices in a single file, as described in section \ref{slbl:XML}.
In addition, it's possible to add data matrices using the Read button
on the File menu or using R.  (The R~-~ggobi interface will be
introduced below, and it's more fully described in section
\ref{slbl:Integration}.)

The rules and the interface for linking across data sets have not yet
been defined.

And last, a nice side effect is that it's now very simple to
adjust the aspect ratio of a plot, something that's very awkward in
xgobi.

\subsection {Data format}

Before describing other changes in the visible design, you might
also be curious about the changes in data format.  The xgobi
format, in which a set of files with a common base name is used,
is still supported, though file format may have changed ({\em .colors}),
and some are no longer supported ({\em .bin} and {\em .vgroups}).
(See section \ref{slbl:DataFormat} for details.)

The new format, in which all the data lives in one file, is written
in XML.  XML, the Extensible Markup Language, is a widely used
language for specifying structured documents and data to
be viewed and exchanged on the web.  One advantage of XML is
that XML files can be validated automatically, and it's also
easy to extend the set of tags that's being used, adding more
details and options to the ggobi data specification.

As ggobi grows and develops, it's the XML format that will
definitely include all new features: it will become increasingly
difficult to keep the old format up to date.  For instance, we
will no longer support the ``.bin'' file used by xgobi, which
can be used to store the data in a binary format.  Instead,
the XML file will have a tag that can be used to give the
name of a binary file to be read -- and the binary format we
use will be portable.

A few XML data files are included in the sample ggobi data, and
the details of their format is described in ??.

Another innovation in data access is the ability to read data
directly from a MySQL database, as described in section \ref{slbl:MySQL}.

\subsection{Integration}

Many of xgobi users are also users of the SPlus or R statistics
software, and have used the S function which launches an xgobi
process viewing S data.  Once that launch occurred, the resulting
process was utterly independent of its parent.  The xgobi authors
did some experiments in the early 90s to achieve a more intimate
connection, but made little headway.  (reference)

With ggobi, that problem has been solved, and it's now possible
to have real-time integration between ggobi and a variety of
other software environments.  An example of this integration is
the embedding of ggobi into R (or S), with the addition of a set of
R (or S) functions that manipulate ggobi data and displays,
resetting data values, projection, and the appearance of the plot.

For more details, see section \ref{slbl:Integration}, or read
(reference).

\subsection {Variable selection}

Among the other changes in the interface, the next one you'll
probably notice is that selecting variables for plotting looks
different for one and two-dimensional plots.  For those plots, ggobi
uses checkboxes instead of variable circles, which require a lot of
space and provide a lot of feedback that isn't necessary for simple
orthogonal projections.  The user interface hasn't changed, though:
click with the left button to select a variable to be plotted
horizontally and the middle (or right) button to plot vertically.

There's a second panel for variable selection called the {\bf
Variable selection and statistics table} which sits on the {\bf
Tools} menu.  This table displays a handful of useful statistics for
each variable, but it also plays an important role in variable
selection.  Several of the tools, such as variable transformation and
jittering, will operate on the plotted variables in the current
display by default.  However, if any rows in this table are highlighted,
then all selected variables will be affected. 

This functionality together with the ability to specify limits
for variables or groups of variables, replaced the {\em .vgroups}
functionality in xgobi.

Variable cloning is another new feature: it appears as a button
on the variable selection and statistics table.

For more detail on this table, see section \ref{slbl:VarStats}.

\subsection{Changes in ViewModes and Tools}

{\bf Brush} may be the {\bf ViewMode} that has changed the most,
because ggobi has a much richer notion of color selection than
xgobi.  Open the {\bf Choose Symbol} panel, and then double-click on
any element of the color palette to bring up a color selection widget
with access to the full color map.  See section \ref{slbl:Color}.

{\bf Scale} has also changed -- the direct manipulation shifting and
scaling methods work as they did in xgobi, though you now specify
whether you want to {\bf Pan} or {\bf Zoom}, and then use the same
mouse button for both.  New methods (the {\bf Click} interaction
style) that allow greater precision have replaced the xgobi controls
that were represented by buttons on the control panel.  See section
\ref{slbl:Scaling}.

The tour methods in ggobi are still evolving:  many things are not
yet implemented, such as projection pursuit, but new things are
beginning to appear.  In the {\bf 1DTour}, a projection of several
variables is viewed an an average shifted histogram, as described
in section \ref{slbl:1DTour}.

The redesign of the tour methods is reflected in the {\bf Sphere}
tool, which also appears in the most recent versions of xgobi.
Instead of automatically sphering variables in projection pursuit,
ggobi allows you the choice:  you can use the {\bf Sphere} tool to
decide which variables to sphere.  Since this method makes use of
variable cloning, it creates new variables, allowing you to look at
plots of principal components against the original data.

See section \ref{slbl:Sphere} for details and pictures.

\subsection{On-line help}

The on-line help system used in xgobi has been replaced with
``tooltips,'' so leaving the mouse over a widget for a couple of
seconds brings up a phrase describing the function of that widget.
If the tooltips annoy you, you can turn then off using a
checkbox on the {\bf Options} menu.

\end {document}

