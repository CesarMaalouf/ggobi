# This is placed in the top-level directory
# of the ggobi suite and is a convenience
# for 

TOP=@TOP@

.PHONY:	lib

XML_UTILS=@XML_UTILS@

UTILS=$(XML_UTILS:%=bin/%)

all: lib/libgtkext.so bin/ggobi @EMBED@ $(UTILS)

lib/libgtkext.so:
	$(MAKE) -C gtkext/src install

ggobi bin/ggobi: lib/libgtkext.so
	$(MAKE) -C src ../bin/ggobi

lib/libggobi.so:
	$(MAKE) -C src ../lib/libggobi.so


bin/xmlConvert:
	$(MAKE) -C src ../bin/xmlConvert


clean:
	for f in () ; do \
	  $(MAKE) -C $$f clean ; \
	done

distclean: clean