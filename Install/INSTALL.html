<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html> <head>
<title></title>
</head>

<body>
<h1>GGobi Installation</h1>

<h2> Downloads </h2>

<p> Binaries and source code can be downloaded from <e
href="http://www.ggobi.org"> http://www.ggobi.org </a>

<pre>
--GGobi--
  Windows binary
  tar'd gzip'd source code (for linux)

--Rggobi--
  Rggobi.tar.gz  file containing the necessary pieces to build the
                 link between R and ggobi
</pre>

<p>
There are also instructions on how to download code from the cvs
archive, using anonymous cvs.

<h2> Ways to build GGobi under linux or unix </h2>

<p>
There are various ways to use ggobi and hence different features that
one can enable when compiling ggobi.

<UL>
<LI> stand-alone,
<LI> stand-alone with XML support,
<LI> stand-alone and embeddable ggobi library,
      (this implies an embeddable ggobi library is created.)
<LI> stand-alone and embeddable ggobi library with XML support,
<LI> R interface
     (allowing ggobi to be controlled from R)
<LI> Python interface
      (allowing ggobi to be controlled from Python)   
<LI> Perl   interface
      (allowing ggobi to be controlled from Perl)
</UL>

<p> There is also optional support for reading data directly from a MySQL
database. (The configuration for this has not been ironed out yet.)

<P> We strongly recommend compiling with XML support, because it provides
more flexibility for file input and output and facilitates
portability. For this option, you will need to have Daniel Veillard's
libxml2 installed and you will need to indicate where the development
header files are located. See instructions for getting this library
and building it below.

<p> Nevertheless we provide instructions for all the different build
methods, starting with the simplest. (Note that gmake is really used,
but make should default to this on linux. You may need to force make
to be gmake on other unix systems.)

<h3> Stand-alone </h3>

Download the tar.gz version of the code, unpack it. The type:

<pre>
./configure
make
</pre>

Then to run ggobi type:

<pre>
bin/ggobi <datafilename> 
</pre>

<h3> Stand-alone with XML support </h3>

<p> If the libxml2 library is installed on your system (not common!) then
type:

<pre>
./configure --with-xml
make
</pre>

<p> However you may need to build the libxml2 library (common!) before
starting (instructions below and in separate file INSTALL-xml.html).
Then type:

<pre>
./configure --with-xml=$HOME/XML/libxml2-x.x.x
make
</pre>

<p> where $HOME/XML is of course replaced by the directory in which you're
building libxml2, and the x's in libxml2-x.x.x are replaced by by the
version of libxml2 you downloaded and unpacked. You can use
xml2-config to check the location of the libxml2 installation. 

<h3> Stand-alone and embeddable ggobi library </h3>

<pre>
./configure --enable-embed
make 
</pre>

<h3> Stand-alone and embeddable ggobi library with XML support </h3>

<p> If the libxml2 library is installed on your system (not common!) then
type:

<pre>
./configure --with-xml --enable-embed
make 
</pre>

<p> However you may need to build the libxml2 library (common!) before
starting (instructions below and in separate file INSTALL-xml.html).
Then type:

<pre>
./configure --with-xml=$HOME/XML/libxml2-x.x.x --enable-embed
make
</pre>

<p> where $HOME/XML is of course replaced by the directory in which you're
building libxml2, and the x's in libxml2-x.x.x are replaced by by the
version of libxml2 you downloaded and unpacked. You can use
xml2-config to check the location of the libxml2 installation. 

<h2> R interface </h2>

Install R after downloading and following instructions from
<a href="http://www.R-project.org"> http://www.R-project.org </a>

<p> From the ggobi web site, download Rggobi_x.x-x.tar.gz. 

<p> Set various system parameters:

<pre>
% setenv R_HOME /usr/lib/R (where R got installed)
% setenv GGOBI_ROOT $HOME/ggobi   (or wherever ggobi lives)
% setenv R_LIBS /usr/lib/R/library 
</pre>

<p> You may need to use the export command rather than setenv in some
shells, eg

<pre>
% R_HOME=/usr/lib/R 
% export R_HOME
</pre>

Become superuser:

<pre>
% su
</pre>

<p> Set a symbolic link to the ggobi library and the gtkext library in the
/usr/lib directory (the one above where R resides):

<pre>
% ln -s $GGOBI_ROOT/lib/libggobi.so /usr/lib/.
% ln -s $GGOBI_ROOT/lib/libgtkext.so /usr/lib/.
</pre>

<p> Install the Rggobi library:

<pre>
% R CMD INSTALL Rggobi_x.x-x.tar.gz
</pre>

<p> which will create a directory called Rggobi in the
/usr/local/lib/R/library directory.

<p> Exit superuser status.

<pre>
% exit              
</pre>

<p> You are now ready to test out the link. Start R:

<pre>
% R
> library(Rggobi)
> ggobi()
> ls(pos=2)      # lists the ggobi functionality available
</pre>

<h2> XML support:  </h2>

<p> Some Linux systems have a version of libxml installed by default in
/usr/lib or /usr/local/lib and headers in
/usr/local/include/gnome-xml.  In some cases, these are older
versions of libxml and will not work with ggobi. While it would be
simpler to install libxml2 on your system and replace the existing
one, that approach may break other applications.

<p> To deal with this need for a more recent version of libxml2 while
leaving the older version as the installed default library, one has
to follow these steps:

<OL>
<LI> download libxml2 and compile it in a non-system directory as
      described above.  This directory might be in your home
      directory. The compilation should leave you with a directory
      libxml2-2.x.x/ which contains (amongst other things)
          a) an include directory in which the header files such as
             parser.h and tree.h reside;
          b) a .libs/ directory in which libxml2.so resides.
             Note the name of this top-level directory. 
<LI> configure the ggobi distribution using the --with-xml flag as
<PRE>
       cd ggobi
       ./configure --with-xml=/top-level/directory/of/libxml2

       make
</PRE>
</OL>

<p> This should be sufficient to _compile_ ggobi with the correct include
and library files. However, when one runs ggobi, it will not
necessarily find that newer library, but instead may use the system
default one in /usr/lib or wherever.  The ggobi script in bin/ however
takes care of this by setting the LD_LIBRARY_PATH appropriately to
refer to the .libs/ directory.

<h2> Getting libxml2 </h2> (See INSTALL-xml.html for more complete
instructions)

<p> You will need to have the libxml2 library, NOT libxml-1.x.x. You
can download this from <a
href="ftp://xmlsoft.org/">
ftp.gnome.org/pub/GNOME/stable/sources/libxml2 </a> or use the version
that comes with the ggobi distribution. Untar it,
change directory to the top level of that source tree and give the two
commands

<pre>
      ./configure
      make
</pre>

<h2> Building GGobi under Windows </h2>

<p> Win-GGobi is the native windows port of GGobi. 

<h3> Installation from Binary </h3>

<p> Unzip the binary in the directory of your choice, and double-click on
the icon winggobi\bin\ggobi.exe 

<h3> RSGGobi - Running GGobi from R  </h3>

<p> The RSGGobi package is an add on package for R
(<href="http://www.r-project.org"> http://www.r-project.org </a>) an
open source statistical package simailar to S+. GGobi can be run and
exchange data with an R session.

<p> The RSGGobi package is an add on package for R
(<href="http://www.r-project.org">http://www.r-project.org</a>  ) 
an open source statistical package simailar to S+. GGobi can be run and
exchange data with an R session.

<p> To install Rggobi you will first need to download and install the
R binaries from <a
href="http://cran.r-project.org">http://cran.r-project.org</a> .

<p> Once R is installed unzip Rggobi.zip in the directory rw10xx/library. Next
you will need to install winggobi. The last
step is to put the directory winggobi/bin in your path. If you are running
windows 95 or 98 you will need to edit the file C:\AUTOEXEC.BAT. If you
are running windows NT or 2000 go to Start->Control Panel-> System->Environment
and select PATH, and add the winggobi/bin directory to the path.

<p>  Now fire up R

<pre>
> library(Rggobi)
> ggobi()
</pre>

<h3> Compiling ggobi on windows  </h3>

<pre>
Using the Mingw32 compiler

>The following notes include the set-up I used to compile ggobi on windows.
I have successfully compiled it on win98 and winnt. I am sure there is
an easier way but everything I have used in the process is GPL or LGPL
so I assume there are no licensing issues.

What is needed
--------------

Mingw32 (gcc for windows) download the latest stable snapshot
gcc-2.95.2-1 at
ftp://ftp.nanotech.wisc.edu/pub/khan/gnu-win32/mingw32/snapshots/gcc-2.95.2-1/

Download all the files for msvcrt (mingw-msvcrt-20000203.zip,
gcc-2.95.2-1-msvcrt.zip, binutils-19990818-1-msvcrt.zip,
binutils-fixes-msvcrt.zip, ld-msvcrt.zip) from
http://user.sgic.fi/~tml/gimp/win32/ 

Download the current development version of gtk+ for windows.
(libiconv-dev-20001007.zip, glib-dev-20001023.zip,
gtk+-dev-20001023.zip) 

and finally at http://www.penguin.at0.net/~fredo/
you need libxml2-x.x.x-mingw.zip 

optional: get
the cygwin 1.1 distribution. The bash shell is really helpful at
http://sourceware.cygnus.com/cygwin/mirrors.html
phew! (Note, when i find or compile a version of mysql I
will add that too)

Installation
------------

I will pretend everything is being installed in c:\

First if you are going to use cygnus download everything but the
cygwin distribution of gcc manually from the ftp site and then use the
install script for a local install. Install in C:\cygnus using the
installer, and use the option install from local source.

Now install gcc, say in C:\mingw, now gcc needs to be added to your
path, if you did not heed my advice and downloaded cygwin gcc when you
installed bash then gcc needs to be in your path BEFORE the cygwin
stuff. This is because people still seem to have some problems with
the -mno-cygwin flag. Unzip the mingw files in the order listed above
in the mingw directory

Next unzip the gtk stuff say in C:\gtkwin.
Now if you do not have gimp installed I found it easiest to make a
folder under gtkwin say C:\gtkwin\bin and copy all the dlls from the various
gtk and extra stuff to that folder and put that folder in your path. Now
all gtk+ applications will run without having to have a copy of the dll
in each folder. Since the gtk+ distribution is changing rapidly it is not
a good idea to put this stuff in your system folder.

Lastly unzip libxml2, everything is compiled for windows already so it
just needs to be unzipped.

Compiling
---------

For compiling here is the link to the makefile I have been using, also
the following source needs to be there, since erf is not in the Mingw
math libraries. (http://www.public.iastate.edu/~nlewin/ggobi/Makefile.win32, 
 s_erf.c)

Now just fire up bash, copy s_erf.c and Makefile.win32 over to your ggobi
directory (note you will need to change the paths in the
makefile to reflect your system) and make. Email me when nothing works
at kohnicho@comp.nus.edu.sg
</pre>

<hr>
<address><a href="http://cm.bell-labs.com/stat/duncan">Duncan Temple Lang</a>
<a href=mailto:duncan@research.bell-labs.com>&lt;duncan@research.bell-labs.com&gt;</a></address>
<!-- hhmts start -->
Last modified: Sat Jan 18 15:32:46 UTC 2003
<!-- hhmts end -->
</body> </html>
