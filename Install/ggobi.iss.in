; Script generated by the Inno Setup Script Wizard.
; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!

[Setup]
AppName=ggobi
AppVerName=ggobi_@MAJOR_VERSION@.@MINOR_VERSION@-@PATCH_LEVEL@
AppPublisher=ggobi
AppPublisherURL=http://www.ggobi.org
AppSupportURL=http://www.ggobi.org
AppUpdatesURL=http://www.ggobi.org/Download
DefaultDirName={pf}\ggobi
DefaultGroupName=ggobi
AllowNoIcons=yes
;AlwaysCreateUninstallIcon=yes
LicenseFile=@GGOBI_HOME@LICENSING\license.txt
; uncomment the following line if you want your installation to run on NT 3.51 too.
; MinVersion=4,3.51

[Tasks]
Name: "desktopicon"; Description: "Create a &desktop icon"; GroupDescription: "Additional icons:"; MinVersion: 4,4

[Files]
Source: "@GGOBI_HOME@ggobi.exe"; DestDir: "{app}"; CopyMode: alwaysoverwrite
Source: "@GGOBI_HOME@libs\*.*"; DestDir: "{app}"; CopyMode: alwaysoverwrite
Source: "@GGOBI_HOME@data\*.*"; DestDir: "{app}\data"; CopyMode: alwaysoverwrite
Source: "@GGOBI_HOME@notes\*.html"; DestDir: "{app}\Docs"; CopyMode: alwaysoverwrite
Source: "@GGOBI_HOME@Install\ggobi.ico"; DestDir: "{app}"; CopyMode: alwaysoverwrite

Source: "@GGOBI_HOME@tmp\ggobirc"; DestDir: "{app}"; CopyMode: alwaysoverwrite
Source: "@GGOBI_HOME@notes\colorschemes.xml"; DestDir: "{app}\share"; CopyMode: alwaysoverwrite

Source: "@GGOBI_HOME@*.h"; DestDir: "{app}\include"; CopyMode: alwaysoverwrite

Source: "@GGOBI_HOME@plugins\ggvis\ggvis.dll"; DestDir: "{app}\plugins"; CopyMode: alwaysoverwrite
Source: "@GGOBI_HOME@plugins\GraphAction\GraphAction.dll"; DestDir: "{app}\plugins"; CopyMode: alwaysoverwrite

Source: "@GGOBI_HOME@libggobi.a"; DestDir: "{app}\lib"; CopyMode: alwaysoverwrite
Source: "@GGOBI_HOME@ggobi.dll"; DestDir: "{app}"; CopyMode: alwaysoverwrite
Source: "@GGOBI_HOME@ggobi.def"; DestDir: "{app}\lib"; CopyMode: alwaysoverwrite


[INI]
Filename: "{app}\ggobi.url"; Section: "InternetShortcut"; Key: "URL"; String: "http://www.ggobi.org"

[Icons]
Name: "{group}\GGobi"; Filename: "{app}\ggobi.exe"; IconFilename: "{app}\ggobi.ico" ; WorkingDir: "{app}" ; Flags: runminimized

Name: "{group}\GGobi on the Web"; Filename: "{app}\ggobi.url"
Name: "{userdesktop}\GGobi"; Filename: "{app}\ggobi.exe"; IconFilename: "{app}\ggobi.ico";  Tasks: desktopicon

; IconFilename: "C:\WINDOWS\WINUPD.ICO";
Name: "{userdesktop}\ggobi"; Filename: "{app}\ggobi.exe";  MinVersion: 4,4; Tasks: desktopicon; WorkingDir: "{app}\data"; Comment: "GGobi Interactive, Dynamic Visualization Software"; Flags: runminimized ; IconFilename: "{app}\ggobi.ico"

[Run]
; Must put the "" around the data file since otherwise app may get broken into
; multiple words such as c:\Program Files\data\flea.xml, counting as two arguments!
Filename: "{app}\ggobi.exe"; Parameters: """{app}\data\flea.xml"""; Description: "Launch ggobi"; Flags: runminimized

; nowait postinstall skipifsilent

[UninstallDelete]
Type: files; Name: "{app}\ggobi.url"

